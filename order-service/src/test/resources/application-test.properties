quarkus.application.name=order-service-test

quarkus.datasource.db-kind=postgresql
quarkus.hibernate-orm.database.generation=none
quarkus.flyway.migrate-at-start=true

# Kafka topics (same as main application)
kafka.bootstrap.servers=localhost:9092

mp.messaging.incoming.orders.connector=smallrye-kafka
mp.messaging.incoming.orders.topic=orders
mp.messaging.incoming.orders.value.deserializer=io.quarkus.kafka.client.serialization.JsonbDeserializer
mp.messaging.incoming.orders.key.deserializer=org.apache.kafka.common.serialization.StringDeserializer

mp.messaging.outgoing.order-events.connector=smallrye-kafka
mp.messaging.outgoing.order-events.topic=order-events
mp.messaging.outgoing.order-events.value.serializer=io.quarkus.kafka.client.serialization.JsonbSerializer
mp.messaging.outgoing.order-events.key.serializer=org.apache.kafka.common.serialization.StringSerializer

# REST Client Configuration - Use invalid URL to trigger fallback methods
quarkus.rest-client.product-service.url=http://localhost:9999
org.eclipse.microprofile.rest.client.inject.product-service.connect-timeout=10
org.eclipse.microprofile.rest.client.inject.product-service.read-timeout=10

# Disable retries for tests to trigger fallback faster
# Note: The @Retry annotations on service methods will still retry, but with shorter delays
# The fallback methods in ProductServiceClient will be used when REST client fails

