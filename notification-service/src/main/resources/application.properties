# Quarkus Application Configuration
quarkus.application.name=notification-service
quarkus.application.version=1.0.0-SNAPSHOT

# HTTP Server Configuration
quarkus.http.port=8083
quarkus.http.root-path=/

# Mailer Configuration
quarkus.mailer.host=${MAIL_HOST:smtp.gmail.com}
quarkus.mailer.port=587
quarkus.mailer.username=${MAIL_USERNAME:your-email@gmail.com}
quarkus.mailer.password=${MAIL_PASSWORD:your-app-password}
quarkus.mailer.start-tls=REQUIRED
quarkus.mailer.ssl=false
quarkus.mailer.from=${NOTIFICATION_EMAIL_FROM:noreply@ecommerce.com}

# JPA Configuration (if using database for notifications)
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=${DB_USERNAME:postgres}
quarkus.datasource.password=${DB_PASSWORD:postgres}
quarkus.datasource.jdbc.url=${DB_URL:jdbc:postgresql://localhost:5432/notificationdb}
quarkus.hibernate-orm.database.generation=update
quarkus.hibernate-orm.log.sql=true
quarkus.hibernate-orm.format-sql=true
quarkus.hibernate-orm.dialect=org.hibernate.dialect.PostgreSQLDialect
quarkus.hibernate-orm.sql-load-script=no-file

# Kafka Configuration
kafka.bootstrap.servers=kafka:29092

# Incoming channels
mp.messaging.incoming.notifications.connector=smallrye-kafka
mp.messaging.incoming.notifications.topic=notifications
mp.messaging.incoming.notifications.group.id=notification-service-group
mp.messaging.incoming.notifications.auto.offset.reset=earliest
mp.messaging.incoming.notifications.value.deserializer=io.quarkus.kafka.client.serialization.JsonbDeserializer
mp.messaging.incoming.notifications.key.deserializer=org.apache.kafka.common.serialization.StringDeserializer

# Disable Kafka notifications channel in test profile to avoid starting Kafka consumer during tests
%test.mp.messaging.incoming.notifications.enabled=false

# Metrics
quarkus.micrometer.export.prometheus.enabled=true
quarkus.micrometer.export.prometheus.path=/q/metrics
quarkus.micrometer.binder.http-server.enabled=true
quarkus.micrometer.common-tags=application=notification-service,region=${REGION:unknown},environment=${ENV:local}

# Health Check
quarkus.smallrye-health.root-path=/q/health

# Logging
quarkus.log.level=INFO
quarkus.log.category."com.ecommerce".level=DEBUG

# OpenAPI
quarkus.smallrye-openapi.path=/q/openapi
quarkus.swagger-ui.path=/q/swagger-ui
quarkus.swagger-ui.always-include=true
mp.openapi.extensions.smallrye.info.title=Notification Service API Documentation
mp.openapi.extensions.smallrye.info.description=REST API documentation for Notification Service
mp.openapi.extensions.smallrye.info.version=1.0.0-SNAPSHOT
mp.openapi.extensions.smallrye.info.license.name=Apache 2.0
mp.openapi.extensions.smallrye.info.license.url=https://www.apache.org/licenses/LICENSE-2.0
