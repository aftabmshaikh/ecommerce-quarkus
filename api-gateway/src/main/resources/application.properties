# Quarkus Application Configuration
quarkus.application.name=api-gateway
quarkus.application.version=1.0.0-SNAPSHOT

# HTTP Server Configuration
quarkus.http.port=8080
quarkus.http.root-path=/

# REST Client Routes
quarkus.rest-client.product-service.url=http://product-service:8081
quarkus.rest-client.order-service.url=http://order-service:8082
quarkus.rest-client.user-service.url=http://user-service:8084
quarkus.rest-client.inventory-service.url=http://inventory-service:8083
quarkus.rest-client.cart-service.url=http://cart-service:8082
quarkus.rest-client.payment-service.url=http://payment-service:8086
quarkus.rest-client.notification-service.url=http://notification-service:8083

# CORS
quarkus.http.cors=true
quarkus.http.cors.origins=*
quarkus.http.cors.methods=GET,POST,PUT,DELETE,OPTIONS
quarkus.http.cors.headers=accept,authorization,content-type,x-requested-with
quarkus.http.cors.credentials=true

# Security (OIDC/JWT)
quarkus.oidc.auth-server-url=http://localhost:8080/realms/quarkus
quarkus.oidc.client-id=api-gateway
quarkus.oidc.token-path=/protocol/openid-connect/token
quarkus.oidc.jwks-path=/protocol/openid-connect/certs
quarkus.oidc.roles-path=realm_access/roles
quarkus.oidc.principal-attribute=preferred_username
quarkus.oidc.introspection-path=/protocol/openid-connect/token/introspect
quarkus.oidc.authentication.cookie-path=/
quarkus.oidc.authentication.cookie-max-age=3600

# Metrics
quarkus.micrometer.export.prometheus.enabled=true
quarkus.micrometer.export.prometheus.path=/q/metrics
quarkus.micrometer.binder.http-server.enabled=true
quarkus.micrometer.common-tags=application=api-gateway,region=${REGION:unknown},environment=${ENV:local}

# Health Check
quarkus.smallrye-health.root-path=/q/health

# Logging
quarkus.log.level=INFO
quarkus.log.category."com.ecommerce.apigateway".level=DEBUG

# Fault Tolerance (Circuit Breaker)
quarkus.fault-tolerance.circuit-breaker.productService.request-volume-threshold=10
quarkus.fault-tolerance.circuit-breaker.productService.failure-ratio=0.5
quarkus.fault-tolerance.circuit-breaker.productService.delay=5000

# Redis for Rate Limiting
quarkus.redis.hosts=redis://localhost:6379
