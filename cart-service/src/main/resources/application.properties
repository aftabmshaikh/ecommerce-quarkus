# Quarkus Application Configuration
quarkus.application.name=cart-service
quarkus.application.version=0.0.1-SNAPSHOT

# HTTP Server Configuration
quarkus.http.port=8082
quarkus.http.root-path=/

# Database Configuration
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=postgres
quarkus.datasource.password=postgres
quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/ecommerce_cart
quarkus.hibernate-orm.database.generation=update
quarkus.hibernate-orm.log.sql=true
quarkus.hibernate-orm.format-sql=true
quarkus.hibernate-orm.dialect=org.hibernate.dialect.PostgreSQLDialect
quarkus.hibernate-orm.sql-load-script=no-file

# REST Client Configuration (for product-service)
quarkus.rest-client.product-service.url=http://localhost:8081
org.eclipse.microprofile.rest.client.inject.product-service.connect-timeout=5000
org.eclipse.microprofile.rest.client.inject.product-service.read-timeout=5000

# Metrics
quarkus.micrometer.export.prometheus.enabled=true
quarkus.micrometer.export.prometheus.path=/q/metrics
quarkus.micrometer.binder.http-server.enabled=true
quarkus.micrometer.common-tags=application=cart-service,region=${REGION:unknown},environment=${ENV:local}

# Health Check
quarkus.smallrye-health.root-path=/q/health

# Logging
quarkus.log.level=INFO
quarkus.log.category."com.ecommerce.cart".level=DEBUG
quarkus.log.category."org.hibernate.SQL".level=DEBUG
quarkus.log.category."org.hibernate.type.descriptor.sql.BasicBinder".level=TRACE

# OpenAPI
quarkus.smallrye-openapi.path=/q/openapi
quarkus.swagger-ui.path=/q/swagger-ui
quarkus.swagger-ui.always-include=true
mp.openapi.extensions.smallrye.info.title=Cart Service API Documentation
mp.openapi.extensions.smallrye.info.description=REST API documentation for Cart Service
mp.openapi.extensions.smallrye.info.version=0.0.1-SNAPSHOT
mp.openapi.extensions.smallrye.info.license.name=Apache 2.0
mp.openapi.extensions.smallrye.info.license.url=https://www.apache.org/licenses/LICENSE-2.0

# Security (JWT/OIDC)
quarkus.smallrye-jwt.enabled=true
quarkus.smallrye-jwt.new-token-propagation=true
quarkus.oidc.auth-server-url=http://localhost:8080/realms/quarkus
quarkus.oidc.client-id=backend-service
quarkus.oidc.token-path=/protocol/openid-connect/token
quarkus.oidc.jwks-path=/protocol/openid-connect/certs
quarkus.oidc.roles-path=realm_access/roles
quarkus.oidc.principal-attribute=preferred_username
quarkus.oidc.introspection-path=/protocol/openid-connect/token/introspect
quarkus.oidc.authentication.cookie-path=/
quarkus.oidc.authentication.cookie-max-age=3600
