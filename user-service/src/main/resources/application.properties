# Quarkus Application Configuration
quarkus.application.name=user-service
quarkus.application.version=1.0.0-SNAPSHOT

# HTTP Server Configuration
quarkus.http.port=8084
quarkus.http.root-path=/

# Database Configuration
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=${DB_USERNAME:postgres}
quarkus.datasource.password=${DB_PASSWORD:postgres}
quarkus.datasource.jdbc.url=${DB_URL:jdbc:postgresql://localhost:5432/userdb}
quarkus.datasource.jdbc.max-pool-size=10
quarkus.datasource.jdbc.min-pool-size=5
quarkus.datasource.jdbc.connection-timeout=30S

quarkus.hibernate-orm.database.generation=update
quarkus.hibernate-orm.log.sql=true
quarkus.hibernate-orm.format-sql=true
quarkus.hibernate-orm.dialect=org.hibernate.dialect.PostgreSQLDialect
quarkus.hibernate-orm.sql-load-script=no-file

# JWT Configuration
smallrye.jwt.new-token-propagation=true
# Placeholder, replace with actual public key location
mp.jwt.verify.publickey.location=classpath:META-INF/resources/publicKey.pem
# Placeholder, replace with actual issuer
mp.jwt.verify.issuer=https://example.com/issuer
jwt.secret=${JWT_SECRET:your-secret-key}
# 24 hours in milliseconds
jwt.expiration=86400000

# Metrics
quarkus.micrometer.export.prometheus.enabled=true
quarkus.micrometer.export.prometheus.path=/q/metrics
quarkus.micrometer.binder.http-server.enabled=true
quarkus.micrometer.common-tags=application=user-service,region=${REGION:unknown},environment=${ENV:local}

# Health Check
quarkus.smallrye-health.root-path=/q/health

# Logging
quarkus.log.level=INFO
quarkus.log.category."com.ecommerce".level=DEBUG

# OpenAPI
quarkus.smallrye-openapi.path=/q/openapi
quarkus.swagger-ui.path=/q/swagger-ui
quarkus.swagger-ui.always-include=true
mp.openapi.extensions.smallrye.info.title=User Service API Documentation
mp.openapi.extensions.smallrye.info.description=REST API documentation for User Service
mp.openapi.extensions.smallrye.info.version=1.0.0-SNAPSHOT
mp.openapi.extensions.smallrye.info.license.name=Apache 2.0
mp.openapi.extensions.smallrye.info.license.url=https://www.apache.org/licenses/LICENSE-2.0
